<<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="minimum-scale=1">
        <title>The forest</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="main.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
       <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
       <div class="headerdiv">
       <h1 class="titleword" style="display: inline;">The forest</h1>
       <img id="butterfly" src="resources/butterfly.gif" style="display: inline;width: 7%;">
       
       </div>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
      <!-- --> 
        <div id="butterfly_moving">
            <img id="butterfly_many" src="resources/buttefly_moving.gif" >
        </div>
           
        <div class="species_div row">

            <div class="parentdiv_animal column col-sm-8 col-md-8 col-lg-4 ">
            <img src="resources/animal_loading.png" id = "my_animal_rotate" onclick = "circle_animal();" >
            <img src="resources/animal_button.png" id = "my_animal_button" onclick = "circle_animal();" >
            <div id="animalcirclediv"></div>
            </div>

            

            <div class="parentdiv_plant column col-sm-8 col-md-8 col-lg-4 ">
            <img src="resources/plant_loading.png" id = "my_plant_rotate" onclick = "play();" >
            <img src="resources/plant_button.png" id = "my_plant_button" onclick = "play();" >
            </div>

            <div class="parentdiv_bird column col-sm-8 col-md-8 col-lg-4 ">
            <img src="resources/birds_loading.png" id = "my_bird_rotate" onclick = "play();" >
            <img src="resources/bird_button.png" id = "my_bird_button" onclick = "play();" >
            </div>
        </div>  

        
        <div class="row">
            <div class = "soundcontroldiv col-sm-1 col-md-2 col-lg-2">
            <img src="resources/silent.png" class = "silent" id = "my_muteaudio2" onclick = "pause();"/>
            <img src="resources/play.png" class = "play" id = "my_audio2" onclick = "play();" />    
            </div>  
        </div>
       
        
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

            <script type="text/javascript">

                var audio; 
                audio = new Audio('resources/birds.wav');
                function play() {
                 
                 audio.play();
                 audio.loop = true;
                 document.getElementById("my_audio2").style.visibility = "hidden";
                 document.getElementById("my_muteaudio2").style.visibility = "visible";


                }

                function pause() {
                 
                 audio.pause();
                 
                 document.getElementById("my_audio2").style.visibility = "visible";
                 document.getElementById("my_muteaudio2").style.visibility = "hidden";


                }

                function circle_animal(){
                  play();
                  //document.getElementById('circle').style.visibility = "visible";
                  $("#animalcirclediv").slideDown("slow");
                }

                function RandomObjectMover(obj, container) {
	this.$object = obj;
  this.$container = container;
  this.container_is_window = container === window;
  this.pixels_per_second = 100;
  this.current_position = { x: 0, y: 0 };
  this.is_running = false;
}

// Set the speed of movement in Pixels per Second.
RandomObjectMover.prototype.setSpeed = function(pxPerSec) {
	this.pixels_per_second = pxPerSec;
}

RandomObjectMover.prototype._getContainerDimensions = function() {
   if (this.$container === window) {
       return { 'height' : this.$container.innerHeight*0.7, 'width' : this.$container.innerWidth*0.7 };
   } else {
   	   return { 'height' : this.$container.clientHeight*0.7, 'width' : this.$container.clientWidth*0.7 };
   }
}

RandomObjectMover.prototype._generateNewPosition = function() {

	// Get container dimensions minus div size
  var containerSize = this._getContainerDimensions();
	var availableHeight = containerSize.height - this.$object.clientHeight;
  var availableWidth = containerSize.width - this.$object.clientHeight;
    
  // Pick a random place in the space
  var y = Math.floor(Math.random() * availableHeight*0.8);
  var x = Math.floor(Math.random() * availableWidth*0.8);
    
  return { x: x, y: y };    
}

RandomObjectMover.prototype._calcDelta = function(a, b) {
	var dx   = a.x - b.x;         
  var dy   = a.y - b.y;         
  var dist = Math.sqrt( dx*dx + dy*dy ); 
  return dist;
}

RandomObjectMover.prototype._moveOnce = function() {
		// Pick a new spot on the page
    var next = this._generateNewPosition();
    
    // How far do we have to move?
    var delta = this._calcDelta(this.current_position, next);
    
		// Speed of this transition, rounded to 2DP
		var speed = Math.round((delta / this.pixels_per_second) * 100) / 100;
    
    //console.log(this.current_position, next, delta, speed);
          
    this.$object.style.transition='transform '+speed+'s linear';
    this.$object.style.transform='translate3d('+next.x+'px, '+next.y+'px, 0)';
    
    // Save this new position ready for the next call.
    this.current_position = next;
  
};

RandomObjectMover.prototype.start = function() {

	if (this.is_running) {
  	return;
  }

	// Make sure our object has the right css set
  this.$object.willChange = 'transform';
  this.$object.pointerEvents = 'auto';
	
  this.boundEvent = this._moveOnce.bind(this)
  
  // Bind callback to keep things moving
  this.$object.addEventListener('transitionend', this.boundEvent);
  
  // Start it moving
  this._moveOnce();
  
  this.is_running = true;
}

RandomObjectMover.prototype.stop = function() {

	if (!this.is_running) {
  	return;
  }
  
  this.$object.removeEventListener('transitionend', this.boundEvent);
  
	this.is_running = false;
}


// Init it
var x = new RandomObjectMover(document.getElementById('butterfly_moving'), window);






// Start it off

x.start();
    
            </script>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </body>
</html>